#!/bin/bash

mawk_prog='
{
	gsub("define__compel_h0_all__move__replace_at_s_pos", "NIK_DEFINE__COMPEL_H0_ALL__MOVE__REPLACE_AT_S_POS");
	gsub("define__apply_h0_all__move__replace_at_s_pos", "NIK_DEFINE__APPLY_H0_ALL__MOVE__REPLACE_AT_S_POS");
	gsub("define__move_h0_all__replace_at_s_pos", "NIK_DEFINE__MOVE_H0_ALL__REPLACE_AT_S_POS");
	gsub("define__move_h0_all__insert_at_s_pos", "NIK_DEFINE__MOVE_H0_ALL__INSERT_AT_S_POS");
	gsub("define__copy_s_pos__insert_at_h0_front", "NIK_DEFINE__COPY_S_POS__INSERT_AT_H0_FRONT");
	gsub("define__move_s_pos__insert_at_h0_front", "NIK_DEFINE__MOVE_S_POS__INSERT_AT_H0_FRONT");
	gsub("define__move_s_pos__insert_at_s_back", "NIK_DEFINE__MOVE_S_POS__INSERT_AT_S_BACK");
	gsub("define__drop_s_pos", "NIK_DEFINE__DROP_S_POS");
	gsub("define__copy_s_block__insert_at_h0_front", "NIK_DEFINE__COPY_S_BLOCK__INSERT_AT_H0_FRONT");
	gsub("define__move_s_block__insert_at_h1_back", "NIK_DEFINE__MOVE_S_BLOCK__INSERT_AT_H1_BACK");
	gsub("define__move_s_block__insert_at_h0_back", "NIK_DEFINE__MOVE_S_BLOCK__INSERT_AT_H0_BACK");
	gsub("define__move_s_block__insert_at_h0_front", "NIK_DEFINE__MOVE_S_BLOCK__INSERT_AT_H0_FRONT");
	gsub("define__roll_s_block__act_at_h0_first", "NIK_DEFINE__ROLL_S_BLOCK__ACT_AT_H0_FIRST");
	gsub("define__fold_s_block__op_at_h0_first", "NIK_DEFINE__FOLD_S_BLOCK__OP_AT_H0_FIRST");
	gsub("define__move_s_block__insert_at_s_back", "NIK_DEFINE__MOVE_S_BLOCK__INSERT_AT_S_BACK");
	gsub("define__drop_s_block", "NIK_DEFINE__DROP_S_BLOCK");
	gsub("MACHINE", "NIK_MACHINE");
	gsub("END_MACHINE", "NIK_END_MACHINE");
	gsub("BEGIN_MACHINE", "NIK_BEGIN_MACHINE");
	gsub("FIXED_HEAP_ARGS", "NIK_FIXED_HEAP_ARGS");
	gsub("FIXED_HEAP_SIG_ARGS", "NIK_FIXED_HEAP_SIG_ARGS");
	gsub("FIXED_HEAP_PARAMS", "NIK_FIXED_HEAP_PARAMS");
	gsub("CONTR_PARAMS", "NIK_CONTR_PARAMS");
	gsub("_8_fast_Vs", "NIK_8_FAST_VS");
	gsub("_7_fast_Vs", "NIK_7_FAST_VS");
	gsub("_6_fast_Vs", "NIK_6_FAST_VS");
	gsub("_5_fast_Vs", "NIK_5_FAST_VS");
	gsub("_4_fast_Vs", "NIK_4_FAST_VS");
	gsub("_3_fast_Vs", "NIK_3_FAST_VS");
	gsub("_2_fast_Vs", "NIK_2_FAST_VS");
	gsub("_1_fast_Vs", "NIK_1_FAST_VS");
	gsub("_0_fast_Vs", "NIK_0_FAST_VS");
	gsub("_8_fast_auto_Vs", "NIK_8_FAST_AUTO_VS");
	gsub("_7_fast_auto_Vs", "NIK_7_FAST_AUTO_VS");
	gsub("_6_fast_auto_Vs", "NIK_6_FAST_AUTO_VS");
	gsub("_5_fast_auto_Vs", "NIK_5_FAST_AUTO_VS");
	gsub("_4_fast_auto_Vs", "NIK_4_FAST_AUTO_VS");
	gsub("_3_fast_auto_Vs", "NIK_3_FAST_AUTO_VS");
	gsub("_2_fast_auto_Vs", "NIK_2_FAST_AUTO_VS");
	gsub("_1_fast_auto_Vs", "NIK_1_FAST_AUTO_VS");
	gsub("_0_fast_auto_Vs", "NIK_0_FAST_AUTO_VS");
	gsub("_2_9_act_Vs", "NIK_2_9_ACT_VS");
	gsub("_2_8_act_Vs", "NIK_2_8_ACT_VS");
	gsub("_2_7_act_Vs", "NIK_2_7_ACT_VS");
	gsub("_2_6_act_Vs", "NIK_2_6_ACT_VS");
	gsub("_2_5_act_Vs", "NIK_2_5_ACT_VS");
	gsub("_2_4_act_Vs", "NIK_2_4_ACT_VS");
	gsub("_2_3_act_Vs", "NIK_2_3_ACT_VS");
	gsub("_2_2_act_Vs", "NIK_2_2_ACT_VS");
	gsub("_2_1_act_Vs", "NIK_2_1_ACT_VS");
	gsub("_2_0_act_Vs", "NIK_2_0_ACT_VS");
	gsub("_2_9_op_Vs", "NIK_2_9_OP_VS");
	gsub("_2_8_op_Vs", "NIK_2_8_OP_VS");
	gsub("_2_7_op_Vs", "NIK_2_7_OP_VS");
	gsub("_2_6_op_Vs", "NIK_2_6_OP_VS");
	gsub("_2_5_op_Vs", "NIK_2_5_OP_VS");
	gsub("_2_4_op_Vs", "NIK_2_4_OP_VS");
	gsub("_2_3_op_Vs", "NIK_2_3_OP_VS");
	gsub("_2_2_op_Vs", "NIK_2_2_OP_VS");
	gsub("_2_1_op_Vs", "NIK_2_1_OP_VS");
	gsub("_2_0_op_Vs", "NIK_2_0_OP_VS");
	gsub("_2_9_acts", "NIK_2_9_ACTS");
	gsub("_2_8_acts", "NIK_2_8_ACTS");
	gsub("_2_7_acts", "NIK_2_7_ACTS");
	gsub("_2_6_acts", "NIK_2_6_ACTS");
	gsub("_2_5_acts", "NIK_2_5_ACTS");
	gsub("_2_4_acts", "NIK_2_4_ACTS");
	gsub("_2_3_acts", "NIK_2_3_ACTS");
	gsub("_2_2_acts", "NIK_2_2_ACTS");
	gsub("_2_1_acts", "NIK_2_1_ACTS");
	gsub("_2_0_acts", "NIK_2_0_ACTS");
	gsub("_2_9_ops", "NIK_2_9_OPS");
	gsub("_2_8_ops", "NIK_2_8_OPS");
	gsub("_2_7_ops", "NIK_2_7_OPS");
	gsub("_2_6_ops", "NIK_2_6_OPS");
	gsub("_2_5_ops", "NIK_2_5_OPS");
	gsub("_2_4_ops", "NIK_2_4_OPS");
	gsub("_2_3_ops", "NIK_2_3_OPS");
	gsub("_2_2_ops", "NIK_2_2_OPS");
	gsub("_2_1_ops", "NIK_2_1_OPS");
	gsub("_2_0_ops", "NIK_2_0_OPS");
	gsub("_2_9_Vs", "NIK_2_9_VS");
	gsub("_2_8_Vs", "NIK_2_8_VS");
	gsub("_2_7_Vs", "NIK_2_7_VS");
	gsub("_2_6_Vs", "NIK_2_6_VS");
	gsub("_2_5_Vs", "NIK_2_5_VS");
	gsub("_2_4_Vs", "NIK_2_4_VS");
	gsub("_2_3_Vs", "NIK_2_3_VS");
	gsub("_2_2_Vs", "NIK_2_2_VS");
	gsub("_2_1_Vs", "NIK_2_1_VS");
	gsub("_2_0_Vs", "NIK_2_0_VS");
	gsub("_2_9_auto_Vs", "NIK_2_9_AUTO_VS");
	gsub("_2_8_auto_Vs", "NIK_2_8_AUTO_VS");
	gsub("_2_7_auto_Vs", "NIK_2_7_AUTO_VS");
	gsub("_2_6_auto_Vs", "NIK_2_6_AUTO_VS");
	gsub("_2_5_auto_Vs", "NIK_2_5_AUTO_VS");
	gsub("_2_4_auto_Vs", "NIK_2_4_AUTO_VS");
	gsub("_2_3_auto_Vs", "NIK_2_3_AUTO_VS");
	gsub("_2_2_auto_Vs", "NIK_2_2_AUTO_VS");
	gsub("_2_1_auto_Vs", "NIK_2_1_AUTO_VS");
	gsub("_2_0_auto_Vs", "NIK_2_0_AUTO_VS");
	gsub("_upper_512_act_Vs", "NIK_UPPER_512_ACT_VS");
	gsub("_upper_256_act_Vs", "NIK_UPPER_256_ACT_VS");
	gsub("_upper_128_act_Vs", "NIK_UPPER_128_ACT_VS");
	gsub("_upper_64_act_Vs", "NIK_UPPER_64_ACT_VS");
	gsub("_upper_32_act_Vs", "NIK_UPPER_32_ACT_VS");
	gsub("_upper_16_act_Vs", "NIK_UPPER_16_ACT_VS");
	gsub("_upper_8_act_Vs", "NIK_UPPER_8_ACT_VS");
	gsub("_upper_4_act_Vs", "NIK_UPPER_4_ACT_VS");
	gsub("_upper_2_act_Vs", "NIK_UPPER_2_ACT_VS");
	gsub("_upper_1_act_Vs", "NIK_UPPER_1_ACT_VS");
	gsub("_upper_512_op_Vs", "NIK_UPPER_512_OP_VS");
	gsub("_upper_256_op_Vs", "NIK_UPPER_256_OP_VS");
	gsub("_upper_128_op_Vs", "NIK_UPPER_128_OP_VS");
	gsub("_upper_64_op_Vs", "NIK_UPPER_64_OP_VS");
	gsub("_upper_32_op_Vs", "NIK_UPPER_32_OP_VS");
	gsub("_upper_16_op_Vs", "NIK_UPPER_16_OP_VS");
	gsub("_upper_8_op_Vs", "NIK_UPPER_8_OP_VS");
	gsub("_upper_4_op_Vs", "NIK_UPPER_4_OP_VS");
	gsub("_upper_2_op_Vs", "NIK_UPPER_2_OP_VS");
	gsub("_upper_1_op_Vs", "NIK_UPPER_1_OP_VS");
	gsub("_upper_512_Vs", "NIK_UPPER_512_VS");
	gsub("_upper_256_Vs", "NIK_UPPER_256_VS");
	gsub("_upper_128_Vs", "NIK_UPPER_128_VS");
	gsub("_upper_64_Vs", "NIK_UPPER_64_VS");
	gsub("_upper_32_Vs", "NIK_UPPER_32_VS");
	gsub("_upper_16_Vs", "NIK_UPPER_16_VS");
	gsub("_upper_8_Vs", "NIK_UPPER_8_VS");
	gsub("_upper_4_Vs", "NIK_UPPER_4_VS");
	gsub("_upper_2_Vs", "NIK_UPPER_2_VS");
	gsub("_upper_1_Vs", "NIK_UPPER_1_VS");
	gsub("_upper_512_auto_Vs", "NIK_UPPER_512_AUTO_VS");
	gsub("_upper_256_auto_Vs", "NIK_UPPER_256_AUTO_VS");
	gsub("_upper_128_auto_Vs", "NIK_UPPER_128_AUTO_VS");
	gsub("_upper_64_auto_Vs", "NIK_UPPER_64_AUTO_VS");
	gsub("_upper_32_auto_Vs", "NIK_UPPER_32_AUTO_VS");
	gsub("_upper_16_auto_Vs", "NIK_UPPER_16_AUTO_VS");
	gsub("_upper_8_auto_Vs", "NIK_UPPER_8_AUTO_VS");
	gsub("_upper_4_auto_Vs", "NIK_UPPER_4_AUTO_VS");
	gsub("_upper_2_auto_Vs", "NIK_UPPER_2_AUTO_VS");
	gsub("_upper_1_auto_Vs", "NIK_UPPER_1_AUTO_VS");
	gsub("_1_comma", "NIK_1_COMMA");
	gsub("_0_comma", "NIK_0_COMMA");

	print $0;
}'

ls *.hpp |
while read file
do
	cat "$file" | mawk "$mawk_prog" > tmp && mv tmp "$file"
done

